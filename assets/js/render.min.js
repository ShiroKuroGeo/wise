var handleRenderHighlight = function() { 
	$('.hljs-wrapper pre code').each(function(i, block) {
		var dataUrl = $(this).attr('data-url');
		if (dataUrl) {
			$.ajax({
				url: dataUrl,
				dataType: 'html',
				success: function(data) {
					if (data) {
						$(block).html(data);
					}
					hljs.highlightElement(block);
				},
				error: function(data) {
					hljs.highlightElement(block);
				}
			});
		} else {
			hljs.highlightElement(block);
		}
	});
};

var Highlight = function () {
	"use strict";
	return {
		init: function () {
			handleRenderHighlight();
		}
	};
}();

$(document).ready(function() {
	Highlight.init();
});